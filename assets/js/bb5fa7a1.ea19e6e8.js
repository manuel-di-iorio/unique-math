"use strict";(globalThis.webpackChunkuniquemath=globalThis.webpackChunkuniquemath||[]).push([[248],{1879:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Functions/Matrix3","title":"Matrix3","description":"3x3 matrix functions using arrays of 9 elements in column-major order. Rotation angles are in degrees. Functions modify the first matrix in-place for zero allocations.","source":"@site/docs/Functions/Matrix3.md","sourceDirName":"Functions","slug":"/Functions/Matrix3","permalink":"/unique-math/docs/Functions/Matrix3","draft":false,"unlisted":false,"editUrl":"https://github.com/manuel-di-iorio/unique-math/tree/main/docs/docs/Functions/Matrix3.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"documentationSidebar","previous":{"title":"Vec3","permalink":"/unique-math/docs/Functions/Vector3"},"next":{"title":"Matrix4","permalink":"/unique-math/docs/Functions/Matrix4"}}');var s=r(4848),i=r(8453);const a={sidebar_position:3},d="Matrix3",l={},c=[{value:"Creating Matrices",id:"creating-matrices",level:2},{value:"Matrix Layout",id:"matrix-layout",level:2},{value:"Functions Reference",id:"functions-reference",level:2},{value:"Creation",id:"creation",level:3},{value:"Setters",id:"setters",level:3},{value:"Clone / Copy",id:"clone--copy",level:3},{value:"Determinant / Inversion",id:"determinant--inversion",level:3},{value:"Transpose",id:"transpose",level:3},{value:"Equality",id:"equality",level:3},{value:"Multiplication",id:"multiplication",level:3},{value:"2D Transform Makers (in degrees)",id:"2d-transform-makers-in-degrees",level:3},{value:"2D Transform Operations (in degrees)",id:"2d-transform-operations-in-degrees",level:3},{value:"Extract / Convert",id:"extract--convert",level:3},{value:"UV Transform",id:"uv-transform",level:3},{value:"Array Conversion",id:"array-conversion",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Operations",id:"basic-operations",level:3},{value:"2D Transformations",id:"2d-transformations",level:3},{value:"Combining Transforms",id:"combining-transforms",level:3},{value:"Matrix Multiplication",id:"matrix-multiplication",level:3},{value:"Inversion",id:"inversion",level:3},{value:"Normal Matrix",id:"normal-matrix",level:3},{value:"Extract Basis Vectors",id:"extract-basis-vectors",level:3},{value:"UV Transform",id:"uv-transform-1",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"matrix3",children:"Matrix3"})}),"\n",(0,s.jsxs)(n.p,{children:["3x3 matrix functions using arrays of 9 elements in ",(0,s.jsx)(n.strong,{children:"column-major"})," order. Rotation angles are in ",(0,s.jsx)(n.strong,{children:"degrees"}),". Functions modify the first matrix in-place for zero allocations."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"creating-matrices",children:"Creating Matrices"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Create a new identity matrix\nvar m = mat3_create();  // [1,0,0, 0,1,0, 0,0,1]\n\n// Create and set to rotation\nvar rot = mat3_create();\nmat3_make_rotation(rot, 45);  // 45 degrees\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"matrix-layout",children:"Matrix Layout"}),"\n",(0,s.jsxs)(n.p,{children:["Matrices are stored in ",(0,s.jsx)(n.strong,{children:"column-major"})," order (like OpenGL/Three.js):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"| m[0] m[3] m[6] |\n| m[1] m[4] m[7] |\n| m[2] m[5] m[8] |\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When using ",(0,s.jsx)(n.code,{children:"mat3_set()"}),", arguments are in ",(0,s.jsx)(n.strong,{children:"row-major"})," order for readability:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"mat3_set(m, n11, n12, n13, n21, n22, n23, n31, n32, n33);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"functions-reference",children:"Functions Reference"}),"\n",(0,s.jsx)(n.h3,{id:"creation",children:"Creation"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Returns"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_create()"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Array"})}),(0,s.jsx)(n.td,{children:"Creates a new identity 3x3 matrix"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"setters",children:"Setters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_set(m, n11, n12, n13, n21, n22, n23, n31, n32, n33)"})}),(0,s.jsx)(n.td,{children:"Sets elements (row-major input)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_identity(m)"})}),(0,s.jsx)(n.td,{children:"Resets to identity matrix"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"clone--copy",children:"Clone / Copy"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Returns"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_clone(m)"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Array"})}),(0,s.jsx)(n.td,{children:"Returns a new independent copy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_copy(dest, src)"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Copies src values into dest"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"determinant--inversion",children:"Determinant / Inversion"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Returns"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_determinant(m)"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"Computes the determinant"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_invert(m)"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Inverts in-place (zero matrix if singular)"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"transpose",children:"Transpose"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_transpose(m)"})}),(0,s.jsx)(n.td,{children:"Transposes in place"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_transpose_into_array(m, arr)"})}),(0,s.jsx)(n.td,{children:"Writes transposed matrix to array"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"equality",children:"Equality"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Returns"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_equals(m, other)"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"True if matrices are equal"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"multiplication",children:"Multiplication"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_multiply(m, other)"})}),(0,s.jsx)(n.td,{children:"Post-multiply: m = m * other"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_premultiply(m, other)"})}),(0,s.jsx)(n.td,{children:"Pre-multiply: m = other * m"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_multiply_matrices(dest, a, b)"})}),(0,s.jsx)(n.td,{children:"Sets dest = a * b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_multiply_scalar(m, s)"})}),(0,s.jsx)(n.td,{children:"Multiplies all elements by scalar"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"2d-transform-makers-in-degrees",children:"2D Transform Makers (in degrees)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_make_rotation(m, angle)"})}),(0,s.jsx)(n.td,{children:"Sets to 2D rotation matrix"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_make_scale(m, x, y)"})}),(0,s.jsx)(n.td,{children:"Sets to 2D scale matrix"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_make_translation(m, x, y)"})}),(0,s.jsx)(n.td,{children:"Sets to 2D translation matrix"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"2d-transform-operations-in-degrees",children:"2D Transform Operations (in degrees)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_rotate(m, angle)"})}),(0,s.jsx)(n.td,{children:"Applies rotation to matrix"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_scale(m, sx, sy)"})}),(0,s.jsx)(n.td,{children:"Applies scale to matrix"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_translate(m, tx, ty)"})}),(0,s.jsx)(n.td,{children:"Applies translation to matrix"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"extract--convert",children:"Extract / Convert"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_extract_basis(m, xAxis, yAxis, zAxis)"})}),(0,s.jsx)(n.td,{children:"Extracts column vectors (vec3)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_set_matrix4(m, m4)"})}),(0,s.jsx)(n.td,{children:"Sets from upper 3x3 of 4x4 matrix"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_get_normal_matrix(m, m4)"})}),(0,s.jsx)(n.td,{children:"Computes normal matrix (inverse transpose)"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"uv-transform",children:"UV Transform"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_set_uv_transform(m, tx, ty, sx, sy, rotation, cx, cy)"})}),(0,s.jsx)(n.td,{children:"Sets UV transform matrix"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"array-conversion",children:"Array Conversion"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Returns"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_from_array(m, array, offset?)"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Sets from array at offset"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mat3_to_array(m, array?, offset?)"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Array"})}),(0,s.jsx)(n.td,{children:"Copies to array at offset"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-operations",children:"Basic Operations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var m = mat3_create();\n\n// Set specific values\nmat3_set(m, 1, 2, 3, 4, 5, 6, 7, 8, 9);\n\n// Reset to identity\nmat3_identity(m);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2d-transformations",children:"2D Transformations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var m = mat3_create();\n\n// Create rotation matrix (45 degrees)\nmat3_make_rotation(m, 45);\n\n// Create scale matrix\nmat3_make_scale(m, 2, 3);\n\n// Create translation matrix\nmat3_make_translation(m, 10, 20);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"combining-transforms",children:"Combining Transforms"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var m = mat3_create();\n\n// Apply multiple transforms\nmat3_translate(m, 10, 20);  // First translate\nmat3_rotate(m, 45);         // Then rotate\nmat3_scale(m, 2, 2);        // Then scale\n"})}),"\n",(0,s.jsx)(n.h3,{id:"matrix-multiplication",children:"Matrix Multiplication"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var a = mat3_create();\nvar b = mat3_create();\n\nmat3_make_rotation(a, 45);\nmat3_make_scale(b, 2, 2);\n\n// a = a * b\nmat3_multiply(a, b);\n\n// Or store result in separate matrix\nvar result = mat3_create();\nmat3_multiply_matrices(result, a, b);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"inversion",children:"Inversion"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var m = mat3_create();\nmat3_make_scale(m, 2, 4);\n\nmat3_invert(m);  // Now m is [0.5, 0, 0, 0, 0.25, 0, 0, 0, 1]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"normal-matrix",children:"Normal Matrix"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Get normal matrix from a 4x4 model matrix\nvar normalMatrix = mat3_create();\nvar modelMatrix4 = [2,0,0,0, 0,2,0,0, 0,0,2,0, 0,0,0,1];\n\nmat3_get_normal_matrix(normalMatrix, modelMatrix4);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"extract-basis-vectors",children:"Extract Basis Vectors"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var m = mat3_create();\nmat3_make_rotation(m, 45);\n\nvar xAxis = vec3_create();\nvar yAxis = vec3_create();\nvar zAxis = vec3_create();\n\nmat3_extract_basis(m, xAxis, yAxis, zAxis);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uv-transform-1",children:"UV Transform"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"var uvMatrix = mat3_create();\n\n// offset, repeat, rotation (degrees), center\nmat3_set_uv_transform(uvMatrix, 0.5, 0.5, 2, 2, 45, 0.5, 0.5);\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var t=r(6540);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);